<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Bộ trống cực nhạy</title>
<style>
  body {
    background: #111;
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    -webkit-user-select: none;
    user-select: none;
    touch-action: manipulation;
    font-family: Arial, sans-serif;
  }
  button {
    width: 45%;
    height: 20%;
    margin: 2%;
    font-size: 2em;
    border: none;
    border-radius: 12px;
    background: #222;
    color: #fff;
    box-shadow: 0 0 15px #000 inset;
    transition: background 0.1s;
  }
  button:active {
    background: #555;
    transform: scale(0.98);
  }
</style>
</head>
<body>

<button data-sound="kick">Kick</button>
<button data-sound="snare">Snare</button>
<button data-sound="hihat">Hi-Hat</button>
<button data-sound="tom1">Tom 1</button>
<button data-sound="tom2">Tom 2</button>
<button data-sound="crash">Crash</button>

<script>
const sounds = {
  kick: new Audio('https://cdn.jsdelivr.net/gh/itsron717/drumkit/sounds/kick.wav'),
  snare: new Audio('https://cdn.jsdelivr.net/gh/itsron717/drumkit/sounds/snare.wav'),
  hihat: new Audio('https://cdn.jsdelivr.net/gh/itsron717/drumkit/sounds/hihat.wav'),
  tom1: new Audio('https://cdn.jsdelivr.net/gh/itsron717/drumkit/sounds/tom1.wav'),
  tom2: new Audio('https://cdn.jsdelivr.net/gh/itsron717/drumkit/sounds/tom2.wav'),
  crash: new Audio('https://cdn.jsdelivr.net/gh/itsron717/drumkit/sounds/crash.wav')
};

// Đảm bảo mỗi lần bấm tạo instance mới => không bị delay
function playSound(name) {
  const audio = sounds[name].cloneNode();
  audio.play();
}

// Gán sự kiện chạm cho các nút
document.querySelectorAll("button").forEach(btn => {
  btn.addEventListener("touchstart", e => {
    e.preventDefault();
    playSound(btn.dataset.sound);
  });
  btn.addEventListener("mousedown", e => {
    playSound(btn.dataset.sound);
  });
});

// Vô hiệu zoom double-tap
let lastTouchEnd = 0;
document.addEventListener('touchend', function (event) {
  const now = (new Date()).getTime();
  if (now - lastTouchEnd <= 300) {
    event.preventDefault();
  }
  lastTouchEnd = now;
}, false);
</script>

</body>
</html>